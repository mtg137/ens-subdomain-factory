<!DOCTYPE html>
<html>
<head>
  <title>Dapp</title>

  <!-- Libraries -->
  <link rel="stylesheet" href="lib/bootstrap-superhero.css">

  <script src="lib/jquery-3.2.1.min.js"></script>
  <script src="lib/popper-1.12.3.min.js"></script>
  <script src="lib/bootstrap-4.0.0-beta.2.min.js"></script>
  <script src="lib/truffle-contract-3.0.4.min.js"></script>
  <script src="lib/web3-1.0.min.js"></script>
  <!-- Load DApp -->
  <script src="dapp.js"></script>

</head>
<body>
  <br/>
  <div id="dapp" class="container">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <a class="navbar-brand" href="#">FREE ENS SUBDOMAINS ĐAPP</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarColor01">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.toptal.com/ethereum-smart-contract/time-locked-wallet-truffle-tutorial#distinguish-only-choice-engineers">About the project</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://github.com/radek1st/ens-subdomain-factory">Source code</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.toptal.com/#distinguish-only-choice-engineers">Toptal</a>
          </li>
        </ul>
      </div>
    </nav>

    <br/>

    <div class="jumbotron">
      <p class="lead">This simple Ethereum ĐApp lets you create (or update) a free <b>.eth</b> subdomain. You can learn how it is built <a target="_blank" href="https://www.toptal.com/ethereum-smart-contract/time-locked-wallet-truffle-tutorial#distinguish-only-choice-engineers">here</a>.</p>
      <hr class="my-4">
      <form id="subdomain-form">
        <div class="row">
          <div class="col form-group">
            <label for="subdomain">Subdomain To Create/Update:</label>
            <input id="subdomain" type="text" required class="form-control" placeholder="satoshi">
            <div class="valid-feedback"><span id="valid"></span></div>
            <div class="invalid-feedback"><span id="invalid"></span></div>
          </div>
          <div class="col form-group">
            <label for="domain">Choose Top Level Domain:</label>
            <select class="form-control" id="domain">
            </select>
          </div>                
        </div>
        <div class="row">
          <div class="col form-group">
            <label for="owner">Set Subdomain Owner:</label>
            <input id="owner" type="text" required class="form-control" placeholder="Owner Ethereum Address">
            <small id="ownerHelp" class="form-text text-muted">Using your current address by default</small>
            <div class="invalid-feedback">This Ethereum address is invalid</div>

          </div>
          <div class="col form-group">
            <label for="target">Set Target Address:</label>
            <input id="target" type="text" required class="form-control" placeholder="Target Ethereum Address">
            <small id="targetHelp" class="form-text text-muted">Using your current address by default</small>
            <div class="invalid-feedback">This Ethereum address is invalid</div>
          </div>
        </div>

        <button id="create-button" type="submit" class="btn btn-primary btn-block text-white">Create</button>

      </form>
    </div>


    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" target="_blank" href="https://www.linkedin.com/in/radekostrowski">Radek Ostrowski</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarColor03">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://startonchain.com">Start On Chain 2018 MIT License</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" target="_blank" href="http://thomaspark.co">Bootstrap template by Thomas Park</a>
          </li>
        </ul>
      </div>
    </nav>
    <br/>
  </div>

  <div class="modal" id="metamaskModal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">No web3 instance detected!</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>If you are using this ĐApp from a regular browser please install 
            <a href="https://metamask.io">MetaMask</a> first.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal" id="confirmModal">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Confirm the transaction in MetaMask.</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Once mined and successful you can check your subdomain details on Mainnet
              <a id="etherscan" target="_blank" href='#'>Etherscan</a>.</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

    </body>
    </html>